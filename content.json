{"meta":{"title":"No One","subtitle":"","description":"","author":"xujie","url":"http://example.com","root":"/"},"pages":[{"title":"分类","date":"2021-05-17T03:49:13.000Z","updated":"2021-06-29T09:37:07.668Z","comments":false,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2021-05-17T03:51:13.000Z","updated":"2021-06-29T09:37:07.668Z","comments":false,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"","slug":"zynq","date":"2021-06-29T09:46:26.764Z","updated":"2021-06-29T09:49:50.020Z","comments":true,"path":"2021/06/29/zynq/","link":"","permalink":"http://example.com/2021/06/29/zynq/","excerpt":"","text":"petalinux 工程 petalinux 工程软件位于 193服务器 /mnt/HD/adasWorkspace/zinsight_* FPGA文件位于 sharefloder:/2019_proj 软件工程在Gitlab上 跳线设置 右边起1~5键帽都接为JTAG启动。 右边起1、3 跳线帽不接为SD卡启动 SD卡启动不插SD卡也可以JTAG调试 中断 PS接受PL中断 12345678910111213141516171819202122#define INTC_DEVICE_ID XPAR_PS7_SCUGIC_0_DEVICE_ID#define TIMER_IRPT_INTR XPS_FPGA0_INT_ID //定时器中断ID号XScuGic IntcInstance;#define INT_TYPE_RISING_EDGE 0x03#define INT_TYPE_HIGHLEVEL 0x01#define INT_TYPE_MASK 0x03#define INT_CFG0_OFFSET 0x00000C00void IntcTypeSetup(XScuGic *InstancePtr, int intId, int intType)&#123; int mask; intType &amp;= INT_TYPE_MASK; mask = XScuGic_DistReadReg(InstancePtr, INT_CFG0_OFFSET + (intId/16)*4); mask &amp;= ~(INT_TYPE_MASK &lt;&lt; (intId%16)*2); mask |= intType &lt;&lt; ((intId%16)*2); XScuGic_DistWriteReg(InstancePtr, INT_CFG0_OFFSET + (intId/16)*4, mask);&#125; 核心同时运行linux-baremetal Linux环境搭建 ZC106完成单核启动linux Petalinux-config -c u-boot (参考xapp1078 P21)修改bootargs为 console=ttyPS0,115200 maxcpus=1 root=/dev/ram rw ip=:::::eth0:dhcp earlyprintk 无网络需要修改为 console=ttyPS0,115200 maxcpus=1 root=/dev/ram rw ip=110.0.0.5::110.0.0.1:255.255.255.0::eth0:dhcp earlyprintk 修改device-tree 1234memory &#123;device_type = &quot;memory&quot;;reg = &lt;0x00000000 0x30000000&gt;;&#125;; 添加设备树文件 openamp-overlay.dtsi 123456789101112131415161718192021222324/ &#123; reserved-memory &#123; \\#address-cells = &lt;1&gt;; \\#size-cells = &lt;1&gt;; ranges; rproc_0_reserved: rproc@3e000000 &#123; no-map; reg = &lt;0x3e000000 0x01000000&gt;; &#125;; &#125;; amba &#123; elf_ddr_0: ddr@0 &#123; compatible = &quot;mmio-sram&quot;; reg = &lt;0x3e000000 0x400000&gt;; &#125;; &#125;; remoteproc0: remoteproc@0 &#123; compatible = &quot;xlnx,zynq_remoteproc&quot;; firmware = &quot;firmware&quot;; vring0 = &lt;15&gt;; vring1 = &lt;14&gt;; srams = &lt;&amp;elf_ddr_0&gt;; &#125;;&#125;; 修改 System-conf.dtsi 添加 /include/ &quot;openamp-overlay.dtsi&quot; 修改 device-tree.bbappend 添加 SRC_URI += &quot;file://openamp-overlay.dtsi&quot; 执行 123petalinux-bubildpetalinux-package --boot --fpga images/linux/top.bit --u-boot --force 裸核程序编写 参考xilinx ug1186文档 SDK中新建工程-&gt;New -&gt;project OS platform选择standalone，Hardware Platform选择ZC706_hw_platform Processor 选择ps7_cortexa9_1 选择OpenAmp echo-test例程进行测试。 设置BSP文件 双击bsp中的system.mess，Overview 中勾选openamp和libmetal 在standalone openamp中设置WITH_PROXY 设置flags 在Overview -&gt; drivers -&gt; ps7_cortex9_1 extra_compiler_flags Value 栏选项中添加**-DUSE_AMP=1** 碰到问题 网络错误 原因：确定phy地址的电阻设置和预想设置不停，设备树无法匹配 解决:修改电阻,通过在U-boot下输入miio info 可以看到phy地址 Linux下remote 启动裸核程序 输入下面命令 12345678modprobe zynq_remoteproccp /mnt/cpu1app.elf /lib/firmwaresleep 0.5echo cpu1app.elf &gt; /sys/class/remoteproc/remoteproc0/firmwaresleep 0.5echo start &gt; /sys/class/remoteproc/remoteproc0/statesleep 0.5 modprobe rpmsg_user_dev_driver","categories":[],"tags":[]},{"title":"","slug":"readthedocs","date":"2021-06-29T09:46:25.444Z","updated":"2021-06-26T10:04:09.000Z","comments":true,"path":"2021/06/29/readthedocs/","link":"","permalink":"http://example.com/2021/06/29/readthedocs/","excerpt":"","text":"说明 使用readthedocs作为网页文档生成器 环境选择 Anaconda Python 3.7 Archlinux 安装 12conda install sphinx pip install rstcheck 快速开始 1234mkdir $&#123;DocName&#125;cd $&#123;DocName&#125;sphinx-quickstartmake html 修改主题 conf.py文件添加 html_theme = &quot;sphinx_rtd_theme&quot; 托管 将文档托管到GitHub 在READTHEDOCS上注册账号，并直接从GitHub导入","categories":[],"tags":[]},{"title":"","slug":"Mongodb","date":"2021-06-29T09:46:23.970Z","updated":"2021-06-29T09:48:50.675Z","comments":true,"path":"2021/06/29/Mongodb/","link":"","permalink":"http://example.com/2021/06/29/Mongodb/","excerpt":"","text":"Mongodb的使用 下载 https://www.mongodb.com/try/download/community 安装 password: x381148885x","categories":[],"tags":[]},{"title":"","slug":"ArchLinux","date":"2021-06-29T09:46:22.297Z","updated":"2021-06-29T09:48:40.211Z","comments":true,"path":"2021/06/29/ArchLinux/","link":"","permalink":"http://example.com/2021/06/29/ArchLinux/","excerpt":"","text":"ArchLinux 虚拟机安装 VMware 安装ArchLinux 分区 123451. 1M分给GRUB 作为bootLoader2. 500M 分给EFI2. 剩余空间分给存储 挂载 123456789mkfs.ext4 /dev/sda3 # 根据实际分区设置mkswap /dev/sda2 #没有设置swap分区则不需要mkfs.vfat -Fat32 /dev/sda1mount /dev/sda3 /mnt #挂载swapon /dev/sda2 #启用swap分区mkdir -p /mnt/boot/EFImount /dev/sda1 /mnt/boot/EFI 修改vmware设置高级设置,启动设置EFI启动 修改下载源 1234vim /etc/pacman.d/mirrorlist #最顶端添加Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$archsudo pacman -Syy 安装系统和基本应用 1pacstrap /mnt base linux linux-firmware base-devel vim networkmanager grub sudo openssh 配置系统 12genfstab -U /mnt &gt;&gt; /mnt/etc/fstabarch-chroot /mnt 12345#配置时区ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtimehwclock --systohc 12345678910#配置语言vim /etc/locale.gen#删除en_US.UTF8 前的# ...en_US.UTF8... 1234567891011121314151617#添加en_US.UTF-8locale-genvim /etc/locale.conf···en_US.UTF-8···#添加archlinuxvim /etc/hostname···archlinux··· 123456789vim /etc/hosts#配置hosts文件127.0.0.1 archlinux::1 localhost127.0.1.1 archlinux.localdomain archlinux 123#设置密码passwd#输入密码 12345678910111213141516171819202122#配置GRUBgrub-install --target=x86_64-efi --bootloader-id=GRUB --efi-directory=/boot/efi --no-nvram --removablegrub-mkconfig -o /boot/grub/grub.cfg#添加普通用户useradd -m passwd $userName#输入密码EDITOR=vim visudo #设置$userName ALL=(ALL) ALL#配置自启动#Systemctl enable NetworkManager.service#Systemctl enable sshdexitumount -R /mntreboot 配置 桌面配置 Xfce 123456789101112sudo pacman -Syu xfce4 xfce4-goodies xorgsudo pacman -Syu sddmsudo pacman -Syu xorg-xinitcp /etc/X11/xinit/xinitrc ~/.xinitrc#将exec startxfce4 添加到xinitrc末尾vim ~/.xinitrc...exec startxfce4... 中文字体 修改locale.gen 删除 zh_CN.UTF-8前的# 12sudo pacman -S wqy-microheisudo locale-gen 设置图形界面中文 修改 .bashrc：每次使用终端登录时读取并运用里面的设置。 .xinitrc：每次使用 startx 或 SLiM 启动 X 界面时读取并运用里面的设置。 .xprofile：每次使用 GDM 等显示管理器登录时读取并运用里面的设置。 添加下列文本 123export LANG=zh_CN.UTF-8export LANGUAGE=zh_CN:en_US tab补全 时间设置 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859tzselectPlease identify a location so that time zone rules can be set correctly.Please select a continent, ocean, &quot;coord&quot;, or &quot;TZ&quot;. 1) Africa 2) Americas 3) Antarctica 4) Asia 5) Atlantic Ocean 6) Australia 7) Europe 8) Indian Ocean 9) Pacific Ocean10) coord - I want to use geographical coordinates.11) TZ - I want to specify the timezone using the Posix TZ format.#? 4Please select a country whose clocks agree with yours. 1) Afghanistan 14) India 27) Lebanon 40) Singapore 2) Armenia 15) Indonesia 28) Macau 41) Sri Lanka 3) Azerbaijan 16) Iran 29) Malaysia 42) Syria 4) Bahrain 17) Iraq 30) Mongolia 43) Taiwan 5) Bangladesh 18) Israel 31) Myanmar (Burma) 44) Tajikistan 6) Bhutan 19) Japan 32) Nepal 45) Thailand 7) Brunei 20) Jordan 33) Oman 46) Turkmenistan 8) Cambodia 21) Kazakhstan 34) Pakistan 47) United Arab Emirates 9) China 22) Korea (North) 35) Palestine 48) Uzbekistan10) Cyprus 23) Korea (South) 36) Philippines 49) Vietnam11) East Timor 24) Kuwait 37) Qatar 50) Yemen12) Georgia 25) Kyrgyzstan 38) Russia13) Hong Kong 26) Laos 39) Saudi Arabia#? 9Please select one of the following timezones.1) Beijing Time2) Xinjiang Time#? 1The following information has been given: China Beijing TimeTherefore TZ=&#x27;Asia/Shanghai&#x27; will be used.Selected time is now: Mon Jun 21 18:45:51 CST 2021.Universal Time is now: Mon Jun 21 10:45:51 UTC 2021.Is the above information OK?1) Yes2) No#? yesPlease enter a number in range.#? 1You can make this change permanent for yourself by appending the line TZ=&#x27;Asia/Shanghai&#x27;; export TZto the file &#x27;.profile&#x27; in your home directory; then log out and log in again.Here is that TZ value again, this time on standard output so that youcan use the /usr/bin/tzselect command in shell scripts:Asia/Shanghai AUR","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2021-06-29T09:37:07.668Z","updated":"2021-06-29T09:37:07.668Z","comments":true,"path":"2021/06/29/hello-world/","link":"","permalink":"http://example.com/2021/06/29/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"","slug":"OpenEmbedded","date":"2021-06-29T09:37:07.648Z","updated":"2021-06-29T09:37:07.648Z","comments":true,"path":"2021/06/29/OpenEmbedded/","link":"","permalink":"http://example.com/2021/06/29/OpenEmbedded/","excerpt":"","text":"","categories":[],"tags":[]}],"categories":[],"tags":[]}